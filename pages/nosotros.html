<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <link rel="Logo" href="../public/Img/Logos/logo.png" type="Logo">
  <!-- IMPORTAR BOOTSTRAP -->
  <link rel="stylesheet" href="../public/bootstrap-5.3.6-dist/css/bootstrap.min.css">
  <!-- IMPORTAR ICONOS BOOTSTRAP -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
  <!-- IMPORTAR HOJA DE ESTILOS -->
  <link rel="stylesheet" href="../src/css/nosotros.css">
  <title>Nosotros</title>
</head>

<body>
  <!-- NAVBAR -->
  <div id="header-placeholder"></div>
  <div id="sidebar-placeholder" class="mb-5"></div>


  <!-- INFORMACION TOP -->
  <div class="container-fluid">
    <div class="container">
      <div class="row align-items-center margin-small">
        <!-- SECCION IZQUIERDA -->
        <div class="col-12 col-md-6 mb-4 mb-md-0 text-center text-md-start">
          <h4>¿Quiénes somos?</h4>
          <h1 class="fw-bold">Un equipo con pasión por los videojuegos y el desarrollo web</h1>
          <p>
            Somos un equipo de cinco estudiantes apasionados por la tecnología, el diseño y, sobre todo, los
            videojuegos.
            Este proyecto nace como parte de un trabajo escolar, pero también como un reflejo de nuestro interés por
            crear
            experiencias divertidas y accesibles para todos.
          </p>
        </div>

        <!-- SECCION DERECHA -->
        <div class="col-12 col-md-6 d-flex justify-content-center justify-content-md-end mb-5">
          <div class="imagen-quienes">
            <img src="../public/Img/Logos/portadanosotroos.png" alt="Equipo">
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- PREGUNTAS -->
  <div class="container-fluid pt-5 bg-contenido">
    <div class="container">
      <!-- PRIMER PARRAFO -->
      <div class="row">
        <!-- CAJA 1 -->
        <div class="col-12 col-md-6">
          <h6>¿Por qué lo hacemos?</h6>
          <h5>Creemos diversión accesible para todos los jugadores</h5>
          <p>Nuestro objetivo es desarrollar una plataforma web donde cualquier persona pueda acceder y jugar a una
            colección de videojuegos en línea directamente desde su navegador. Queremos ofrecer entretenimiento
            gratuito, rápido y sin complicaciones.</p>
        </div>
        <!-- CAJA 2 -->
        <div class="col-12 col-md-6">
          <h6>¿Para quién lo hacemos?</h6>
          <h5>Diseñado para jugadores de todas las edades y niveles</h5>
          <p>Esta plataforma está pensada para jugadores casuales, estudiantes, niños, jóvenes y cualquier persona que
            disfrute de pasar un buen rato con juegos online sin necesidad de descargar nada. Está hecha para quienes
            valoran una interfaz simple, con perfiles personalizados y un sistema de interacción social.</p>
        </div>
      </div>
      <!-- SEGUNDO PARRAFO -->
      <div class="row pt-md-4">
        <!-- CAJA 3 -->
        <div class="col-12 col-md-6">
          <h6>Nuestra Misión</h6>
          <h5>Entretenimiento simple, seguro y al alcance de un clic</h5>
          <p>Brindar entretenimiento accesible, divertido y seguro a través de una plataforma de videojuegos online que
            permita jugar desde el navegador, explorar categorías, crear perfiles y compartir opiniones con otros
            jugadores.</p>
        </div>
        <!-- CAJA 4 -->
        <div class="col-12 col-md-6">
          <h6>Nuestra Visión</h6>
          <h5>Ser un referente de innovación estudiantil en el mundo gamer</h5>
          <p>Convertirnos en una referencia de plataformas escolares innovadoras, accesibles y sostenibles, con juegos
            de
            calidad hechos por estudiantes comprometidos con el desarrollo web y la experiencia del usuario.</p>
        </div>
      </div>
    </div>
  </div>
  </div>

  <!-- EQUIPO -->
  <div class="container-fluid py-5 bg-contenido">
    <div class="container">
      <div class="row justify-content-center text-center">

        <!-- LESLYE -->
        <div class="col-12 col-md-3 mb-4">
          <div class="miembro-img mx-auto">
            <img src="../public/Img/Perfil/Perfil/nosotrosLeslye.png" alt="Lesly Hernández" class="w-100 h-100">
            <a href="https://www.linkedin.com/in/leslye-hern%C3%A1ndez-jim%C3%A9nez-114775360/" class="linkedin-link"
              target="_blank">
              <i class="bi bi-linkedin"></i>
            </a>
          </div>
          <p class="miembro-nombre">Leslye<br>Hernández</p>
          <p class="miembro-titulo">Diseñadora Principal (UI/UX)</p>
        </div>

        <!-- ANDRES -->
        <div class="col-12 col-md-3 mb-4">
          <div class="miembro-img mx-auto">
            <img src="../public/Img/Perfil/Perfil/nosotrosAndres.png" alt="Andrés Mendoza" class="w-100 h-100">
            <a href="https://www.linkedin.com/in/andres-mendoza-a61a51367/" class="linkedin-link" target="_blank">
              <i class="bi bi-linkedin"></i>
            </a>
          </div>
          <p class="miembro-nombre">Andrés<br>Mendoza</p>
          <p class="miembro-titulo">Programador Back-End</p>
        </div>

        <!-- LUIS ANGEL -->
        <div class="col-12 col-md-3 mb-4">
          <div class="miembro-img mx-auto">
            <img src="../public/Img/Perfil/Perfil/nosotrosLuis.png" alt="Luis Angel" class="w-100 h-100">
            <a href="https://www.linkedin.com/in/luis-angel-tapia-ramirez-5663471a9/" class="linkedin-link"
              target="_blank">
              <i class="bi bi-linkedin"></i>
            </a>
          </div>
          <p class="miembro-nombre">Luis Ángel<br>Tapia</p>
          <p class="miembro-titulo">Programador Front-End</p>
        </div>

        <!-- LEONARDO -->
        <div class="col-12 col-md-3 mb-4">
          <div class="miembro-img mx-auto">
            <img src="../public/Img/Perfil/Perfil/nosotrosLeo.png" alt="Leonardo" class="w-100 h-100">
            <a href="https://www.linkedin.com/in/leonardo-zaid-moreno-jimenez-153168342/" class="linkedin-link"
              target="_blank">
              <i class="bi bi-linkedin"></i>
            </a>
          </div>
          <p class="miembro-nombre">Leonardo<br>Moreno</p>
          <p class="miembro-titulo">Diseñador web Complementario</p>
        </div>

      </div>
    </div>
  </div>


  <div id="footer-placeholder"></div>

  <!-- SCRIPT CARGA COMPONENTES Y NAVBAR DINÁMICO -->
    <script>
        function loadComponent(url, targetId, callback = null) {
            fetch(url)
                .then(res => res.text())
                .then(html => {
                    const target = document.getElementById(targetId);
                    if (target) {
                        target.innerHTML = html;

                        // Ejecutar scripts embebidos
                        const scripts = target.querySelectorAll("script");
                        scripts.forEach(oldScript => {
                            const newScript = document.createElement("script");
                            if (oldScript.src) {
                                newScript.src = oldScript.src;
                            } else {
                                newScript.textContent = oldScript.textContent;
                            }
                            document.body.appendChild(newScript);
                            oldScript.remove();
                        });

                        if (typeof callback === "function") callback();
                    }
                });
        }

        // NAVBAR dinámico con avatar
        loadComponent("../components/navbar.html", "header-placeholder", async () => {
            try {
                const res = await fetch("../src/php/verificar_token.php", {
                    credentials: "include"
                });

                const data = await res.json();
                const container = document.getElementById("header-placeholder");

                if (data.success) {
                    const template = document.getElementById("navbar-logged");
                    const clone = template.content.cloneNode(true);
                    const avatar = clone.querySelector("#navbar-avatar");
                    if (avatar) {
                        avatar.src = `../public/Img/Perfil/Perfil/portrait${data.foto_perfil}.png`;
                    }
                    container.appendChild(clone);

                    const modalAvatar = document.querySelector("#modal-avatar");
                    if (modalAvatar) {
                        modalAvatar.src = `../public/Img/Perfil/Perfil/portrait${data.foto_perfil}.png`;
                    }

                } else {
                    const template = document.getElementById("navbar-nologin");
                    const clone = template.content.cloneNode(true);
                    container.appendChild(clone);
                }

                // Activar toggle sidebar
                const menuToggle = document.getElementById("menu-toggle");
                const sidebar = document.querySelector(".sidebar");
                if (menuToggle && sidebar) {
                    menuToggle.addEventListener("click", e => {
                        e.preventDefault();
                        sidebar.classList.toggle("sidebar-hidden");
                    });
                }

            } catch (error) {
                console.error("❌ Error al verificar sesión:", error);
            }
        });

        // BOTÓN cerrar sesión
        document.addEventListener("click", function (e) {
            if (e.target && e.target.id === "cerrarSesionBtn") {
                fetch("../src/php/cerrar_sesion.php", {
                    method: "POST",
                    credentials: "include"
                }).then(res => res.json())
                    .then(data => {
                        if (data.success) {
                            localStorage.removeItem("user_id");
                            window.location.href = "../pages/index.html";
                        }
                    });
            }
        });

        // SIDEBAR y FOOTER
        loadComponent("../components/sidebar.html", "sidebar-placeholder", () => {
            // CORREGIR redirección a contacto
            document.querySelectorAll(".nav-link").forEach(link => {
                const text = link.textContent.trim().toLowerCase();

                if (text.includes("contáctanos") || text.includes("contactanos")) {
                    link.addEventListener("click", function (e) {
                        e.preventDefault();
                        window.location.href = "../pages/contacto.html";
                    });
                }

                // Ir a INICIO
                if (text.includes("inicio")) {
                    link.addEventListener("click", function (e) {
                        e.preventDefault();
                        window.location.href = "../pages/index.html"; // Ajusta si estás en otra carpeta
                    });
                }

                // Abrir MODAL de FAVORITOS
                if (text.includes("favoritos")) {
                    link.addEventListener("click", function (e) {
                        e.preventDefault();
                        const modal = new bootstrap.Modal(document.getElementById("modalFavoritos"));
                        modal.show();
                    });
                }
            });
        });

        loadComponent("../components/footer.html", "footer-placeholder");
    </script>

  <!-- SCRIPT PARA IMPORTAR JS -->
  <script src="../public/bootstrap-5.3.6-dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>